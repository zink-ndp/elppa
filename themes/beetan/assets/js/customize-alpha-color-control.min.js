!function(){function i(i){var t;return(i=i.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(t=100*parseFloat(i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),t=parseInt(t)):t=100,t}function t(i,t,n,r){var o,e,c;o=t.data("a8cIris"),e=t.data("wpWpColorPicker"),o._color._alpha=i,c=o._color.toString(),t.val(c),e.toggler.css({"background-color":c}),r&&a(i,n),t.wpColorPicker("color",c)}function a(i,t){t.slider("value",i),t.find(".ui-slider-handle").text(i.toString())}Color.prototype.toString=function(i){if("no-alpha"==i)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var a=6-t.length-1;a>=0;a--)t="0"+t;return"#"+t},jQuery(document).ready((function(n){n(".alpha-color-control").each((function(){var r,o,e,c,l,s,d,p,u;r=n(this),o=r.val().replace(/\s+/g,""),e=r.attr("data-palette"),c=r.attr("data-show-opacity"),l=r.attr("data-default-color"),s={change:function(t,a){var n,o,e;n=r.attr("data-customize-setting-link"),o=r.wpColorPicker("color"),l==o&&(e=i(o),p.find(".ui-slider-handle").text(e)),wp.customize(n,(function(i){i.set(o)})),d.find(".transparency").css("background-color",a.color.toString("no-alpha"))},palettes:-1!==e.indexOf("|")?e.split("|"):"false"!=e},r.wpColorPicker(s),d=r.parents(".wp-picker-container:first"),n('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(d.find(".wp-picker-holder")),p=d.find(".alpha-slider"),u={create:function(i,t){var a=n(this).slider("value");n(this).find(".ui-slider-handle").text(a),n(this).siblings(".transparency ").css("background-color",o)},value:i(o),range:"max",step:1,min:0,max:100,animate:300},p.slider(u),"true"==c&&p.find(".ui-slider-handle").addClass("show-opacity"),d.find(".min-click-zone").on("click",(function(){t(0,r,p,!0)})),d.find(".max-click-zone").on("click",(function(){t(100,r,p,!0)})),d.find(".iris-palette").on("click",(function(){var t,o;a(o=i(t=n(this).css("background-color")),p),100!=o&&(t=t.replace(/[^,]+(?=\))/,(o/100).toFixed(2))),r.wpColorPicker("color",t)})),d.find(".button.wp-picker-clear").on("click",(function(){var i=r.attr("data-customize-setting-link");r.wpColorPicker("color","#ffffff"),wp.customize(i,(function(i){i.set("")})),a(100,p)})),d.find(".button.wp-picker-default").on("click",(function(){a(i(l),p)})),r.on("input",(function(){a(i(n(this).val()),p)})),p.slider().on("slide",(function(i,a){t(parseFloat(a.value)/100,r,p,!1),n(this).find(".ui-slider-handle").text(a.value)}))}))}))}();