!function(){var t={toggle:function(t){t==this.params.required[1]?this.container.show():this.container.hide()},initializeEditor:function(){var t,i,e=this.id;if(i=this,document.getElementById(e)){if(window.tinymce.get(e)&&wp.editor.remove(e),wp.editor.initialize(e,{tinymce:{toolbar1:"bold,italic,underline,bullist,numlist,link,wp_adv",toolbar2:"unlink,strikethrough,forecolor,alignleft,aligncenter,alignright,alignjustify,outdent,indent",toolbar3:"formatselect,pastetext,removeformat,charmap,undo,redo",wpautop:!0},quicktags:!0,mediaButtons:!0}),!(t=window.tinymce.get(e)))throw new Error("Failed to initialize editor");t.on("paste",(function(){t.setDirty(!0),t.isDirty()&&(t.save(),i.setting.set(t.getContent()))})),t.on("NodeChange",_.debounce((function(){t.isDirty()&&(t.save(),i.setting.set(t.getContent()))}),300)),t.on("blur hide",(function(){t.isDirty()&&(t.save(),i.setting.set(t.getContent()))})),Array.from(document.querySelectorAll("#customize-control-".concat(e," .button.insert-media.add_media")),(function(t){t.innerHTML='<span class="wp-media-buttons-icon"></span>'}))}},ready:function(){var t=this;this.params.required.map((function(i){t.id==t.params.extras.id&&wp.customize(i,(function(i){t.toggle(i.get()),i.bind((function(i){t.toggle(i)}))}))})),_.defer((function(){t.initializeEditor()}))}};wp.customize.controlConstructor.tinymce=wp.customize.Control.extend(t)}();