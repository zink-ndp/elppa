!function(o){"use strict";o(document).ready((function(){var e=o(".beetan-shop-load-more"),t=e.find(".shop-load-more-btn");o(".shop-load-more-btn").on("click",(function(){var a={action:"beetan_shop_load_more_products",query:beetan_shop_load_more_products.posts,page:beetan_shop_load_more_products.current_page,ajax_nonce:beetan_shop_load_more_products.ajax_nonce};o.ajax({type:"POST",url:beetan_shop_load_more_products.ajax_url,data:a,beforeSend:function(){e.addClass("loading"),t.text(beetan_shop_load_more_products.btn_loading_text)},success:function(a){a.data?(o("#primary .products").append(a.data),e.removeClass("loading"),t.text(beetan_shop_load_more_products.btn_load_more_text),beetan_shop_load_more_products.current_page++,beetan_shop_load_more_products.current_page==beetan_shop_load_more_products.max_page&&(t.off("click"),t.remove())):(t.off("click"),t.remove()),o(document).trigger("beetan_shop_loadmore_products_loaded")},error:function(o){console.log(o)}})})),"infinite_scroll"==e.data("loading_type")&&o(window).scroll((function(){if(0==t.length)return!1;o(window).scrollTop()>=o(document).height()-o(window).height()&&t.trigger("click")}))}))}(jQuery);